<aside class="chat-wrapper">
  @if (toggle) {
  <div [style]="{ position: 'relative' }" [@slideInOut]="'slideInOut'">
    <app-chat [anyUserId]="user" [receivedMessage$]="newMessageSubject" />
  </div>
  }
  <div class="bubble" (click)="toggleChat()">
    @if (!toggle && (notificationCount$ | async); as count) {
    <div class="notification-dot">
      {{ count + newMessagesCount > 99 ? "+99" : count + newMessagesCount }}
    </div>
    }
    <ng-icon
      [style]="{ 'font-size': '1.25rem' }"
      [name]="toggle ? 'ionCloseCircleSharp' : 'ionChatbubble'"
    />
    <p>{{ toggle ? "Close chat" : "Open chat" }}</p>
  </div>
</aside>
